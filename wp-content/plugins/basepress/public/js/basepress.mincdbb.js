var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,f,e){b instanceof String&&(b=String(b));for(var h=b.length,g=0;g<h;g++){var k=b[g];if(f.call(e,k,g,b))return{i:g,v:k}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,e){b!=Array.prototype&&b!=Object.prototype&&(b[f]=e.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,f,e,h){if(f){e=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var g=b[h];g in e||(e[g]={});e=e[g]}b=b[b.length-1];h=e[b];f=f(h);f!=h&&null!=f&&$jscomp.defineProperty(e,b,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,e){return $jscomp.findInternal(this,b,e).v}},"es6","es3");
jQuery(document).ready(function(b){function f(c){this.mainElement=c;this.form=c.find(".bpress-search-form");this.searchField=c.find(".bpress-search-field");this.suggestions=c.find(".bpress-search-suggest");this.product=this.searchField.data("product");this.deviceHeight=screen.height;this.minDeviceHeight=this.suggestions.data("minscreen");this.isTouchDevice="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints;this.suggestEnabled=this.suggestions.length;this.skipSearchSuggestions=
this.isTouchDevice&&this.deviceHeight<this.minDeviceHeight;this.oldSearchInputValue="";this.timer=null;this.selection=-1;this.searchTerm="";this.language=this.form.find('input[name="lang"]').val();this.foundPosts=0;this.suggestEnabled&&(this.delay=function(a,b){clearTimeout(this.timer);this.timer=setTimeout(a,b)},this.searchField.on("keyup",this,function(a){if(!this.skipSearchSuggestions&&a.keyCode)switch(a.preventDefault(),a.keyCode){case 13:case 38:case 40:case 91:break;case 27:a.data.suggestions.hide();
a.data.selection=-1;a.data.updateSelection();break;default:a.data.searchTerm=b(this).val(),a.data.searchTerm!=a.data.oldSearchInputValue&&((a.data.oldSearchInputValue=a.data.searchTerm)&&2<a.data.searchTerm.length?a.data.basepressGetSuggestions(a.data.searchTerm,a.data.product):a.data.suggestions.html("").hide())}}),b(document).on("mouseup",this,function(a){a.data.skipSearchSuggestions||a.data.suggestions.is(a.target)||0!==a.data.suggestions.has(a.target).length||(a.data.selection=-1,a.data.updateSelection(),
a.data.suggestions.hide())}),this.searchField.on("click",this,function(a){a.data.skipSearchSuggestions||(a.data.searchTerm=b(this).val(),a.data.searchTerm&&2<a.data.searchTerm.length&&a.data.suggestions.children().length?a.data.suggestions.show():a.data.searchTerm&&2<a.data.searchTerm.length&&0==a.data.suggestions.children().length?a.data.basepressGetSuggestions(a.data.searchTerm,a.data.product):b(this).keyup())}),this.mainElement.on("keydown",this,function(a){if(!a.data.skipSearchSuggestions&&(38==
a.which||40==a.which||13==a.which))switch(a.preventDefault(),a.data.lastItem=a.data.suggestions.find("li").length-1,a.which){case 38:a.data.selection=-1>a.data.selection-1?-1:--a.data.selection;a.data.updateSelection();break;case 40:a.data.selection=a.data.selection+1>a.data.lastItem?a.data.lastItem:a.data.selection+=1;a.data.updateSelection();break;case 13:-1!=a.data.selection?(a.data.link=a.data.suggestions.find("li").eq(a.data.selection).find("a"),a.data.link[0].click()):a.data.form.submit()}}),
this.suggestions.on("click",".bpress-search-suggest-more span",this,function(a){a.data.form.submit()}));this.updateSelection=function(){var a=this.suggestions.find("li");a.removeClass("selected");if(-1!=this.selection){a=a.eq(this.selection);a.addClass("selected");var b=this.suggestions.find("ul");b.scrollTop(a[0].offsetTop-b.height()/2)}};this.basepressGetSuggestions=function(a,c){this.form.addClass("searching");var d=this;b.ajax({type:"GET",url:basepress_vars.ajax_url,data:{action:"basepress_smart_search",
terms:a,product:c,lang:d.language},success:function(a){a.html?(d.suggestions.html(a.html).show(),d.foundPosts=Number(a.foundPosts)):(d.suggestions.html("").hide(),d.foundPosts=0)},complete:function(){d.form.removeClass("searching");basepress_vars.premium&&basepress_vars.log_search&&d.delay(function(){d.logSearch(a,d.product,d.foundPosts)},1E3)}})};basepress_vars.premium&&(this.logSearch=function(a,c){b.ajax({type:"GET",url:basepress_vars.ajax_url,data:{action:"basepress_log_ajax_search",terms:a,product:c,
found_posts:this.foundPosts},success:function(a){},complete:function(){}})})}b(".bpress-search").each(function(c){new f(b(this))});basepress_vars.postID&&b.ajax({type:"POST",url:basepress_vars.ajax_url,data:{action:"basepress_update_views",postID:basepress_vars.postID,productID:basepress_vars.productID}});if(basepress_vars.premium){var e=function(c){var a=b(".bpress-submit-feedback").data("post"),e=b("#bpress-feedback-message").val();c=c||b("#g-recaptcha-response").val();b(".bpress-feedback-textarea textarea, .bpress-submit-feedback").attr("disabled",
"disabled");b(".bpress-feedback-textarea").addClass("sending");b(".bpress-feedback-confirm").html("").removeClass("success fail");b.ajax({type:"GET",dataType:"json",url:basepress_vars.ajax_url,data:{action:"basepress_submit_feedback",postID:a,feedback:e,grecaptcha:c},success:function(a){a&&(b(".bpress-feedback-confirm").html(a.message).removeClass("success fail").addClass(a.state),"success"==a.state&&b(".bpress-feedback").remove())},complete:function(){b(".bpress-feedback-textarea textarea, .bpress-submit-feedback").removeAttr("disabled");
b(".bpress-feedback-textarea").removeClass("sending")}})},h=function(c){var a=b(".bpress-feedback").data("show");!a||"like_dislike"!=a&&c!=a||b(".bpress-feedback").removeClass("hidden")},g=function(b){b+="=";for(var a=decodeURIComponent(document.cookie).split(";"),c=0;c<a.length;c++){for(var d=a[c];" "==d.charAt(0);)d=d.substring(1);if(0===d.indexOf(b))return d.substring(b.length,d.length)}return""},k=function(c,a){h(a);b.ajax({type:"GET",dataType:"json",url:basepress_vars.ajax_url,data:{action:"basepress_update_votes",
post:c,vote:a},success:function(a){if(a){var d=g("basepress_votes");d=""===d?[]:d.split("|");if(!g(c)){var e=new Date;e.setTime(e.getTime()+2592E6);d.push(c);d=d.join("|");document.cookie="basepress_votes="+d+"; path=/;expires = "}b(".bpress-vote-like .bpress-vote").html(a.like).addClass("deactivated");b(".bpress-vote-dislike .bpress-vote").html(a.dislike).addClass("deactivated");a.confirmation&&b(".bpress-votes-confirm").html(a.confirmation).addClass("show")}}})};if(b(".bpress-votes button").hasClass("enabled"))b(".bpress-votes").on("click",
"button",function(c){c.preventDefault();c=b(this).data("post");var a=b(this).data("vote");k(c,a);b(".bpress-votes").off("click");b(".bpress-votes button").addClass("disabled")});b(".bpress-submit-feedback").click(function(c,a){c.preventDefault();if(!b(this).hasClass("grecaptcha-invisible")||a)b("#bpress-feedback-password").val()||e(a)})}});
if(basepress_vars.premium)var basepressFeedbackOnSubmit=function(b){jQuery(".bpress-submit-feedback").trigger("click",b)},basepressFeedbackDisableSubmit=function(){jQuery(".bpress-submit-feedback").prop("disabled",!0)},basepressFeedbackEnableSubmit=function(){jQuery(".bpress-submit-feedback").prop("disabled",!1)};
